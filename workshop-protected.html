<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }
        #attribution, #attribution a {
            color: #999;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass" autofocus>
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="error">Sorry, please try again.</span>
                            <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div id="attribution">
        Protected by <a href="https://www.maxlaumeister.com/pagecrypt/">PageCrypt</a>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
